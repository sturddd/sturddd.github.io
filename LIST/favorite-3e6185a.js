_BT.HTML.favorite={setup(){const t=_obj;t.arr={a:['全部','电影','剧集','动漫'],b:['','/mv','/tv','/ac'],};t.url='/user/favorite'+t.arr.b[t.fd];_fun.ajax=(n)=>{if(n==t.fd)return;t.inlist.load=1;t.fd=n;t.url='/user/favorite'+t.arr.b[n];_BT.req.url('/res'+t.url).get().json((data)=>{Object.uReactive(t.inlist,data.inlist);t.page.pages=data.page.pages;t.page.curr=1;Object.assign(t.footer,data.footer);window.history.pushState(JSON.parse(JSON.stringify(t)),'',t.url)})};_fun.setlist=(a)=>{Object.uReactive(t.inlist,a)};_fun.setload=(a)=>{t.inlist.load=a};onMounted(()=>{_BT.title.set('我的收藏');window.addEventListener('popstate',(e)=>{if(e.state){Object.uReactive(t.inlist,e.state.inlist);t.page=e.state.page;t.fd=e.state.fd}else{window.location.reload()}})});return()=>[h(_Header),h('main',[h('div',{class:'favorite_head'},[t.arr.a.map((v,n)=>{return h('a',{onClick:()=>_fun.ajax(n),class:{on:t.fd==n},},t.arr.a[n])}),]),h(_Inlist,{a:t.inlist}),h(_Page,{a:t.page,url:t.url+'/',}),]),h(_Footer),]},}